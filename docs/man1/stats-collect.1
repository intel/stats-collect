.\" Automatically generated by Pandoc 3.1.3
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "STATS-COLLECT" "" "2024-02-09" "" ""
.hy
.SH NAME
.PP
stats-collect
.SH SYNOPSIS
.PP
\f[B]stats-collect\f[R] [-h] [-q] [-d] [--version] [--force-color]
{deploy,start,report} ...
.SH DESCRIPTION
.PP
stats-collect - a tool for collecting and visualising system statistics
and telemetry.
.SH OPTIONS
.TP
\f[B]-h\f[R]
Show this help message and exit.
.TP
\f[B]-q\f[R]
Be quiet.
.TP
\f[B]-d\f[R]
Print debugging information.
.TP
\f[B]--version\f[R]
Print version and exit.
.TP
\f[B]--force-color\f[R]
Force coloring of the text output.
.SH COMMANDS
.TP
\f[B]stats-collect\f[R] \f[I]deploy\f[R]
Deploy stats-collect helpers.
.TP
\f[B]stats-collect\f[R] \f[I]start\f[R]
Start the measurements.
.TP
\f[B]stats-collect\f[R] \f[I]report\f[R]
Create an HTML report.
.SH COMMAND \f[I]\[aq]stats-collect\f[R] deploy\[aq]
.PP
usage: stats-collect deploy [-h] [-q] [-d] [--tmpdir-path TMPDIR_PATH]
[--keep-tmpdir] [-H HOSTNAME] [-U USERNAME] [-K PRIVKEY] [-T TIMEOUT]
.PP
Deploy stats-collect helpers to a remote SUT (System Under Test).
.SH OPTIONS \f[I]\[aq]stats-collect\f[R] deploy\[aq]
.TP
\f[B]-h\f[R]
Show this help message and exit.
.TP
\f[B]-q\f[R]
Be quiet.
.TP
\f[B]-d\f[R]
Print debugging information.
.TP
\f[B]--tmpdir-path\f[R] \f[I]TMPDIR_PATH\f[R]
When \[aq]stats-collect\[aq] is deployed, a random temporary directory
is used.
Use this option provide a custom path instead.
It will be used as a temporary directory on both local and remote hosts.
This option is meant for debugging purposes.
.TP
\f[B]--keep-tmpdir\f[R]
Do not remove the temporary directories created while deploying
\[aq]stats-collect\[aq].
This option is meant for debugging purposes.
.TP
\f[B]-H\f[R] \f[I]HOSTNAME\f[R], \f[B]--host\f[R] \f[I]HOSTNAME\f[R]
Name of the host to run the command on.
.TP
\f[B]-U\f[R] \f[I]USERNAME\f[R], \f[B]--username\f[R] \f[I]USERNAME\f[R]
Name of the user to use for logging into the remote host over SSH.
The default user name is \[aq]root\[aq].
.TP
\f[B]-K\f[R] \f[I]PRIVKEY\f[R], \f[B]--priv-key\f[R] \f[I]PRIVKEY\f[R]
Path to the private SSH key that should be used for logging into the
remote host.
By default the key is automatically found from standard paths like
\[aq]\[ti]/.ssh\[aq].
.TP
\f[B]-T\f[R] \f[I]TIMEOUT\f[R], \f[B]--timeout\f[R] \f[I]TIMEOUT\f[R]
SSH connect timeout in seconds, default is 8.
.SH COMMAND \f[I]\[aq]stats-collect\f[R] start\[aq]
.PP
usage: stats-collect start [-h] [-q] [-d] [-H HOSTNAME] [-U USERNAME]
[-K PRIVKEY] [-T TIMEOUT] [--cpunum CPUNUM] [--time-limit LIMIT] [-o
OUTDIR] [--reportid REPORTID] [--stats STATS] [--list-stats]
[--stats-intervals STATS_INTERVALS] [--report] cmd [cmd ...]
.PP
Start collecting statistics.
.TP
\f[B]cmd\f[R]
Command to run on the SUT during statistics collection.
If \[aq]HOSTNAME\[aq] is provided, the tool will run the command on that
host, otherwise the tool will run the command on \[aq]localhost\[aq].
.SH OPTIONS \f[I]\[aq]stats-collect\f[R] start\[aq]
.TP
\f[B]-h\f[R]
Show this help message and exit.
.TP
\f[B]-q\f[R]
Be quiet.
.TP
\f[B]-d\f[R]
Print debugging information.
.TP
\f[B]-H\f[R] \f[I]HOSTNAME\f[R], \f[B]--host\f[R] \f[I]HOSTNAME\f[R]
Name of the host to run the command on.
.TP
\f[B]-U\f[R] \f[I]USERNAME\f[R], \f[B]--username\f[R] \f[I]USERNAME\f[R]
Name of the user to use for logging into the remote host over SSH.
The default user name is \[aq]root\[aq].
.TP
\f[B]-K\f[R] \f[I]PRIVKEY\f[R], \f[B]--priv-key\f[R] \f[I]PRIVKEY\f[R]
Path to the private SSH key that should be used for logging into the
remote host.
By default the key is automatically found from standard paths like
\[aq]\[ti]/.ssh\[aq].
.TP
\f[B]-T\f[R] \f[I]TIMEOUT\f[R], \f[B]--timeout\f[R] \f[I]TIMEOUT\f[R]
SSH connect timeout in seconds, default is 8.
.TP
\f[B]--cpunum\f[R] \f[I]CPUNUM\f[R]
If the executed command stresses a particular CPU number, you can
specify it via this option so that the number is saved in the test
result and later the \[aq]stats-collect report\[aq] command will take
this into account while generating the test report.
.TP
\f[B]--time-limit\f[R] \f[I]LIMIT\f[R]
The time limit for statistics collection, after which the collection
will stop if the command \[aq]cmd\[aq] (given as a positional argument)
has not finished executing.
.PP
\f[B]-o\f[R] \f[I]OUTDIR\f[R], \f[B]--outdir\f[R] \f[I]OUTDIR\f[R]
.TP
\f[B]--reportid\f[R] \f[I]REPORTID\f[R]
Any string which may serve as an identifier of this run.
By default report ID is the current date, prefixed with the remote host
name in case the \[aq]-H\[aq] option was used: [hostname-]YYYYMMDD.
For example, \[dq]20150323\[dq] is a report ID for a run made on March
23, 2015.
The allowed characters are: ACSII alphanumeric, \[aq]-\[aq],
\[aq].\[aq], \[aq],\[aq], \[aq]_\[aq], and \[aq]\[ti]\[aq].
.TP
\f[B]--stats\f[R] \f[I]STATS\f[R]
Comma-separated list of statistics to collect.
They are stored in the the \[dq]stats\[dq] sub-directory of the output
directory.
By default, only \[aq]turbostat, sysinfo\[aq] statistics are collected.
Use \[aq]all\[aq] to collect all possible statistics.
Use \[aq] --stats=\[dq]\[dq]\[aq] or \[aq]--stats=\[dq]none\[dq]\[aq] to
disable statistics collection.
If you know exactly what statistics you need, specify the
comma-separated list of statistics to collect.
For example, use \[aq]turbostat,acpower\[aq] if you need only turbostat
and AC power meter statistics.
You can also specify the statistics you do not want to be collected by
pre-pending the \[aq]!\[aq] symbol.
For example, \[aq]all,!turbostat\[aq] would mean: collect all the
statistics supported by the SUT, except for
.TP
\f[B]--list-stats\f[R]
Print information about the statistics \[aq]stats-collect\[aq] can
collect and exit.
.TP
\f[B]--stats-intervals\f[R] \f[I]STATS_INTERVALS\f[R]
The intervals for statistics.
Statistics collection is based on doing periodic snapshots of data.
For example, by default the \[aq]acpower\[aq] statistics collector reads
SUT power consumption for the last second every second, and
\[aq]turbostat\[aq] default interval is 5 seconds.
Use \[aq]acpower:5,turbostat:10\[aq] to increase the intervals to 5 and
10 seconds correspondingly.
Use the \[aq]--list-stats\[aq] to get the default interval values.
.PP
\f[B]--report\f[R]
.SH COMMAND \f[I]\[aq]stats-collect\f[R] report\[aq]
.PP
usage: stats-collect report [-h] [-q] [-d] [-o OUTDIR] [--reportids
REPORTIDS] respaths [respaths ...]
.PP
Create an HTML report for one or multiple test results.
.TP
\f[B]respaths\f[R]
One or multiple stats-collect test result paths.
.SH OPTIONS \f[I]\[aq]stats-collect\f[R] report\[aq]
.TP
\f[B]-h\f[R]
Show this help message and exit.
.TP
\f[B]-q\f[R]
Be quiet.
.TP
\f[B]-d\f[R]
Print debugging information.
.TP
\f[B]-o\f[R] \f[I]OUTDIR\f[R], \f[B]--outdir\f[R] \f[I]OUTDIR\f[R]
Path to the directory to store the report at.
By default the report is stored in the
\[aq]stats-collect-report-<reportid>\[aq] sub-directory of the test
result directory.
If there are multiple test results, the report is stored in the current
directory.
The \[aq]<reportid>\[aq] is report ID of stats-collect test result.
.TP
\f[B]--reportids\f[R] \f[I]REPORTIDS\f[R]
Every input raw result comes with a report ID.
This report ID is basically a short name for the test result, and it
used in the HTML report to refer to the test result.
However, sometimes it is helpful to temporarily override the report IDs
just for the HTML report, and this is what the \[aq]--reportids\[aq]
option does.
Please, specify a comma-separated list of report IDs for every input raw
test result.
The first report ID will be used for the first raw rest result, the
second report ID will be used for the second raw test result, and so on.
Please, refer to the \[aq]--reportid\[aq] option description in the
\[aq]start\[aq] command for more information about the report ID.
.SH AUTHOR
.IP
.nf
\f[C]
Artem Bityutskiy
\f[R]
.fi
.IP
.nf
\f[C]
dedekind1\[at]gmail.com
\f[R]
.fi
.SH DISTRIBUTION
.PP
The latest version of stats-collect may be downloaded from
<https://github.com/intel/stats-collect>
