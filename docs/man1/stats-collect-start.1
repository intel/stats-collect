.\" Automatically generated by Pandoc 3.1.11.1
.\"
.TH "START" "" "25\-03\-2024" "" ""
.SH Command \f[I]\[aq]start\[aq]\f[R]
usage: stats\-collect start [\-h] [\-q] [\-d] [\-H HOSTNAME] [\-U
USERNAME] [\-K PRIVKEY] [\-T TIMEOUT] [\-\-time\-limit LIMIT] [\-o
OUTDIR] [\-\-reportid REPORTID] [\-\-stats STATS] [\-\-stats\-intervals
STATS_INTERVALS] [\-\-list\-stats] [\-\-report] COMMAND
.PP
Run a command and collecting statistics.
The COMMAND string may include placeholders in \[dq]{}\[dq] braces,
which will be replaced with actual values.
The following placeholders are supported: * {HOSTNAME}: The name of the
host to run the command on.
* {USERNAME}: The name of the user to use for logging into the remote
host over SSH.
* {PRIVKEY}: Path to the private SSH key that should be used for logging
into the remote host.
Defaults to \[dq]none\[dq].
* {TIMEOUT}: SSH connect timeout in seconds.
* {CPUS}: The list of CPUs to measure.
Defaults to \[dq]none\[dq].
* {OUTDIR}: The output directory where the result will be stored.
* {REPORTID}: The Report ID of the result.
* {STATS}: Comma\-separated list of statistics names that will be
collected.
.SS General options
.TP
\f[B]\-h\f[R]
Show this help message and exit.
.TP
\f[B]\-q\f[R]
Be quiet.
.TP
\f[B]\-d\f[R]
Print debugging information.
.TP
\f[B]\-H\f[R] \f[I]HOSTNAME\f[R], \f[B]\-\-host\f[R] \f[I]HOSTNAME\f[R]
Name of the host to run the command on.
.TP
\f[B]\-U\f[R] \f[I]USERNAME\f[R], \f[B]\-\-username\f[R] \f[I]USERNAME\f[R]
Name of the user to use for logging into the remote host over SSH.
The default user name is \[aq]root\[aq].
.TP
\f[B]\-K\f[R] \f[I]PRIVKEY\f[R], \f[B]\-\-priv\-key\f[R] \f[I]PRIVKEY\f[R]
Path to the private SSH key that should be used for logging into the
remote host.
By default the key is automatically found from standard paths like
\[aq]\[ti]/.ssh\[aq].
.TP
\f[B]\-T\f[R] \f[I]TIMEOUT\f[R], \f[B]\-\-timeout\f[R] \f[I]TIMEOUT\f[R]
SSH connect timeout in seconds, default is 8.
.TP
\f[B]\-\-time\-limit\f[R] \f[I]LIMIT\f[R]
The time limit for statistics collection, after which the collection
will stop if the command \[aq]cmd\[aq] (given as a positional argument)
has not finished executing.
.PP
\f[B]\-o\f[R] \f[I]OUTDIR\f[R], \f[B]\-\-outdir\f[R] \f[I]OUTDIR\f[R]
.TP
\f[B]\-\-reportid\f[R] \f[I]REPORTID\f[R]
Any string which may serve as an identifier of this run.
By default report ID is the current date, prefixed with the remote host
name in case the \[aq]\-H\[aq] option was used: [hostname\-]YYYYMMDD.
For example, \[dq]20150323\[dq] is a report ID for a run made on March
23, 2015.
The allowed characters are: ACSII alphanumeric, \[aq]\-\[aq],
\[aq].\[aq], \[aq],\[aq], \[aq]_\[aq], and \[aq]\[ti]\[aq].
.TP
\f[B]\-\-stats\f[R] \f[I]STATS\f[R]
Comma\-separated list of statistics to collect.
They are stored in the the \[dq]stats\[dq] sub\-directory of the output
directory.
By default, only \[aq]turbostat, sysinfo\[aq] statistics are collected.
Use \[aq]all\[aq] to collect all possible statistics.
Use \[aq] \-\-stats=\[dq]\[dq]\[aq] or
\[aq]\-\-stats=\[dq]none\[dq]\[aq] to disable statistics collection.
If you know exactly what statistics you need, specify the
comma\-separated list of statistics to collect.
For example, use \[aq]turbostat,acpower\[aq] if you need only turbostat
and AC power meter statistics.
You can also specify the statistics you do not want to be collected by
pre\-pending the \[aq]!\[aq] symbol.
For example, \[aq]all,!turbostat\[aq] would mean: collect all the
statistics supported by the SUT, except for
.TP
\f[B]\-\-stats\-intervals\f[R] \f[I]STATS_INTERVALS\f[R]
The intervals for statistics.
Statistics collection is based on doing periodic snapshots of data.
For example, by default the \[aq]acpower\[aq] statistics collector reads
SUT power consumption for the last second every second, and
\[aq]turbostat\[aq] default interval is 5 seconds.
Use \[aq]acpower:5,turbostat:10\[aq] to increase the intervals to 5 and
10 seconds correspondingly.
Use the \[aq]\-\-list\-stats\[aq] to get the default interval values.
.TP
\f[B]\-\-list\-stats\f[R]
Print information about the statistics \[aq]stats\-collect\[aq] can
collect and exit.
.TP
\f[B]\-\-report\f[R]
Generate an HTML report for collected results (same as calling
\[aq]report\[aq] command with default arguments).
.TP
\f[B]\-\-cmd\-local\f[R]
Run the command on the local host instead of the SUT
(\[aq]HOSTNAME\[aq]).
This is useful for client/server workloads where the SUT runs the server
and the local host runs the client.
.TP
\f[B]\-P\f[R] \f[I]PIPE_PATH\f[R], \f[B]\-\-pipe\-path\f[R] \f[I]PIPE_PATH\f[R]*
Path to the named pipe where the executed command is going to write the
lables to.
The named pipe is created on the SUT (\[aq]HOSTNAME\[aq]).
The labels are used for the X\-axix in the HTML reports.
Use the special keyword \[dq]auto\[dq] to instruce
\[aq]stats\-collect\[aq] to automatically create a named pipe in the
temporary directory (use the \[dq]{PIPE_PATH}\[dq] placeholder in
workload\[aq]s command line to get the path in this case).
No named pipe is created by default.
.TP
\f[B]\-\-pipe\-timeout\f[R] \f[I]PIPE_TIMEOUT\f[R]
The longest allowed time interval between named pipe input lines.
The \[aq]stats\-collect\[aq] tool exits with an error if the interval
exceeds PIPE_TIMEOUT.
The default timeout is 5 minutes.
Specify time value in minutes, or use one of the following specifiers: d
\- days, h \- hours, m \- minutes, s \- seconds.
For example, \[aq]\-\-pipe\-timeout=1m 20s\[aq] would mean mean 1 minute
and 20 seconds.
